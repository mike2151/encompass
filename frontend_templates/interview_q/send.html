{% extends "base.html" %}
{% load static %}
{% block css_imports %}
<link href="{% static 'main/css/basic-form.css' %}" rel="stylesheet">
{% endblock %}


{% block content %}
{% if user.is_authenticated %}
<center>
<div style="padding-top: 10vh; max-width: 30vw;">
    <form class="form-signin" method="post">
      {% csrf_token %}
      <img class="d-block mx-auto mb-4" src="{% static 'images/icon.png' %}" alt="" width="72" height="72">
      <h1 class="h3 mb-3 font-weight-normal page-title">Send {{question.name}}</h1>
      <label for="email">Interviewee Email address</label>
      <input type="email" id="email" name="email" class="form-control" placeholder="Interviewee Email address" required autofocus><br />
      <label for="start_date">Interview Start Date</label>
      <input class="form-control" type="datetime-local" name="start_date"><br />
      <button class="btn btn-lg btn-primary btn-block" type="submit">Send Interview Question</button>
    </form>
</div>
</center>
<script>
$.fn.setNow = function (onlyBlank) {
var now = new Date($.now())
  , year
  , month
  , date
  , hours
  , minutes
  , seconds
  , formattedDateTime
  ;

year = now.getFullYear();
month = now.getMonth().toString().length === 1 ? '0' + (now.getMonth() + 1).toString() : now.getMonth() + 1;
date = now.getDate().toString().length === 1 ? '0' + (now.getDate()).toString() : now.getDate();
hours = now.getHours().toString().length === 1 ? '0' + now.getHours().toString() : now.getHours();
minutes = now.getMinutes().toString().length === 1 ? '0' + now.getMinutes().toString() : now.getMinutes();

formattedDateTime = year + '-' + month + '-' + date + 'T' + hours + ':' + minutes;

if ( onlyBlank === true && $(this).val() ) {
  return this;
}

$(this).val(formattedDateTime);

return this;
}
$(function () {
    $('input[type="datetime-local"]').setNow();

});
</script>
{% else %}
    {% include "no_auth.html" %}
{% endif %} 
{% endblock %}